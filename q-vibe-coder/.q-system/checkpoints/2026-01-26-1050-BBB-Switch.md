# Checkpoint: 2026-01-26-1050-BBB-Switch

**Session started:** ~15:30 UTC
**Checkpoint time:** 2026-01-26-1050
**Participant:** User (BBB Provider Switch)

---

## Accomplishments So Far

- Switched BBB provider from biggerbluebutton.com to Blindside Networks
- Updated credentials in `bigbluebutton.js` (client-side utility)
- Updated credentials in `bbb-join/index.ts` (Supabase edge function)
- User manually deployed edge function via Supabase Dashboard (multiple times)
- Debugged 404 errors - determined `/api/` IS required in URL path
- Debugged 401 errors from BBB meeting servers (myda412331, myda412332)
- Added logging to edge function for debugging
- Changed BBB join behavior from iframe to new tab (Blindside Networks requirement)

---

## Files Changed

**Modified:**
- `my-project/code/src/utils/bigbluebutton.js` - Updated BBB_URL and BBB_SECRET to Blindside Networks
- `my-project/code/supabase/functions/bbb-join/index.ts` - Updated BBB_URL and BBB_SECRET, added logging
- `my-project/code/src/components/CourseDetailView.js` - Changed to always open BBB in new tab instead of iframe
- `my-project/code/src/components/MainContent.js` - Changed to always open BBB in new tab instead of iframe

---

## Key Decisions

| Decision | Rationale |
|----------|-----------|
| URL format: `https://peerloop.api.rna1.blindsidenetworks.com/bigbluebutton/api/` | Both base URLs return SUCCESS but `/api/` is required for actual API calls (create, join) |
| Always open in new tab | Blindside Networks contact said iframe embedding doesn't work - must open in separate tab |
| Added console logging to edge function | To debug the create/join flow and see actual responses |

---

## Current Status

**Working on:** Testing BBB join flow with new tab behavior
**Partially complete:** BBB integration - create API works, join URL generates, but meeting server returns 401 on internal calls

**Issue identified:**
- Create meeting API call works (200 OK)
- Join URL is generated correctly
- Browser redirects to meeting server (myda412332.rna1.blindsidenetworks.com)
- Meeting server's HTML5 client calls `/api/rest/meetingStaticData` which returns 401 Unauthorized

---

## BBB Configuration

**URL:** `https://peerloop.api.rna1.blindsidenetworks.com/bigbluebutton/api/`
**Secret:** `s0M7I97lXEMLFl2uYJk8WgEJsY8qaaeXoyf1amKMetfEWa4Kl9I8v0YIBOTKycw1OGSz0jA3Lpd3hk21HM6ywA`

---

## Next Steps

- [ ] Test BBB join with new tab behavior (just implemented)
- [ ] Check Supabase logs for create URL and response
- [ ] If still 401 errors, contact Blindside Networks support
- [ ] Verify credentials are correct with Blindside Networks

---

## Notes

- User tested both URLs directly in browser - both return SUCCESS for health check
- The 401 error is from the meeting server, not the API server
- This may be a Blindside Networks infrastructure configuration issue
